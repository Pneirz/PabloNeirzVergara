---
import CVSection from '../../components/CVSection.astro';
import type { Competition } from '../../types/cv-types';

interface Props {
  title: string;
  items: Competition[];
  linkLabel: string;
}

const { title, items, linkLabel } = Astro.props;
---

<CVSection title={title} id="competitions-section">
  <div class="space-y-3">
    {
      items.map((comp, index) => (
        <div
          id={`competition-${index}`}
          class="card-hover flex items-center justify-between rounded-lg border border-blue-100 bg-gradient-to-r from-blue-50 to-indigo-50 p-4"
        >
          <div>
            <h4 class="font-semibold text-gray-900">{comp.title}</h4>
            <div class="text-sm text-gray-600">
              {comp.platform}
              {comp.url && (
                <>
                  {' | '}
                  <a
                    href={comp.url}
                    target="_blank"
                    rel="noopener noreferrer"
                    class="link-text link-primary"
                  >
                    {linkLabel}
                  </a>
                </>
              )}
            </div>
          </div>
          <div class="text-right">
            <span class="badge">{comp.position}</span>
          </div>
        </div>
      ))
    }
  </div>
</CVSection>
