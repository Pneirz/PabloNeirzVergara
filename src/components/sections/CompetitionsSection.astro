---
import CVSection from '../../components/CVSection.astro';
import type { Competition } from '../../types/cv-types';

interface Props {
  title: string;
  items: Competition[];
  linkLabel: string;
}

const { title, items, linkLabel } = Astro.props;
---

<CVSection title={title} id="competitions-section">
  <div class="space-y-3">
    {items.map((comp, index) => (
      <div
        id={`competition-${index}`}
        class="flex items-center justify-between rounded-lg border border-blue-100 bg-gradient-to-r from-blue-50 to-indigo-50 p-4 transition-shadow hover:shadow-md"
      >
        <div>
          <h4 class="font-semibold text-gray-900">{comp.title}</h4>
          <div class="text-sm text-gray-600">
            {comp.platform}
            {comp.url && (
              <>
                {' | '}
                <a
                  href={comp.url}
                  target="_blank"
                  rel="noopener noreferrer"
                  class="link-text text-blue-600 underline hover:text-blue-800"
                >
                  {linkLabel}
                </a>
              </>
            )}
          </div>
        </div>
        <div class="text-right">
          <span class="inline-block rounded-full bg-blue-100 px-3 py-1 text-sm font-medium text-blue-800">
            {comp.position}
          </span>
        </div>
      </div>
    ))}
  </div>
</CVSection>
